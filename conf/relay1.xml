<?xml version='1.0' encoding='UTF-8'?>

<!-- Sample configuration of multiple sites, to be used in RELAY2 -->
<RelayConfiguration xmlns="urn:jgroups:relay:1.0">

    <bridges>
        <bridge name="lon-nyx"  config="lon-nyc.xml"/>
        <bridge name="lon-sfo"  config="lon-sfo.xml"/>
        <bridge name="nyc-sfo"  config="nyc-sfo.xml"/>
        <bridge name="sfo-lax"  config="sfo-lax.xml"/>
    </bridges>
        
    <sites >
        <site name="lon">
            <routing>
                <route name="nyc" bridge="lon-nyc"/>
                <route name="sfo" bridge="lon-sfo"/>
                <route name="lax" forward-to="sfo"/>
                <default-route    bridge="global"/>
            </routing>
        </site>

        <site name="nyc">
            <routing>
                <route name="lon" bridge="lon-nyc.xml"/>
                <route name="sfo" bridge="nyc-sfo.xml"/>
                <route name="lax" forward-to="sfo"/>
            </routing>
        </site>

        <site name="sfo">
            <routing>
                <route name="lon" bridge="lon-sfo.xml"/>
                <route name="nyc" bridge="nyc-sfo.xml"/>
                <route name="lax" bridge="sfo-lax.xml"/>
            </routing>
        </site>

        <site name="lax">
            <routing>
                <route name="sfo" bridge="sfo-lax.xml"/>
            </routing>
        </site>

    </sites>

</RelayConfiguration>

